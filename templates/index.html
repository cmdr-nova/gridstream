<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GridStream</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>

<!--This is the goddang farkin HTML body for the Index-->

<!--
                                                                                                                  
                     ____                                           ,--.    ,----..                               
  ,----..          ,'  , `.    ,---,    ,-.----.                  ,--.'|   /   /   \                 ,---,        
 /   /   \      ,-+-,.' _ |  .'  .' `\  \    /  \             ,--,:  : |  /   .     :        ,---.  '  .' \       
|   :     :  ,-+-. ;   , ||,---.'     \ ;   :    \         ,`--.'`|  ' : .   /   ;.  \      /__./| /  ;    '.     
.   |  ;. / ,--.'|'   |  ;||   |  .`\  ||   | .\ :         |   :  :  | |.   ;   /  ` ; ,---.;  ; |:  :       \    
.   ; /--` |   |  ,', |  '::   : |  '  |.   : |: |         :   |   \ | :;   |  ; \ ; |/___/ \  | |:  |   /\   \   
;   | ;    |   | /  | |  |||   ' '  ;  :|   |  \ :         |   : '  '; ||   :  | ; | '\   ;  \ ' ||  :  ' ;.   :  
|   : |    '   | :  | :  |,'   | ;  .  ||   : .  /         '   ' ;.    ;.   |  ' ' ' : \   \  \: ||  |  ;/  \   \ 
.   | '___ ;   . |  ; |--' |   | :  |  ';   | |  \         |   | | \   |'   ;  \; /  |  ;   \  ' .'  :  | \  \ ,' 
'   ; : .'||   : |  | ,    '   : | /  ; |   | ;\  \        '   : |  ; .' \   \  ',  /    \   \   '|  |  '  '--'   
'   | '/  :|   : '  |/     |   | '` ,/  :   ' | \.'        |   | '`--'    ;   :    /      \   `  ;|  :  :         
|   :    / ;   | |`-'      ;   :  .'    :   : :-'          '   : |         \   \ .'        :   \ ||  | ,'         
 \   \ .'  |   ;/          |   ,.'      |   |.'            ;   |.'          `---`           '---" `--''           
  `---`    '---'           '---'        `---'              '---'                                                  
                                                                                                                  
-->

    <div class="container">
        <h1>GridStream</h1>
        <form action="/add_folder" method="post">
            <label for="folder_name">New Folder Name:</label>
            <input type="text" id="folder_name" name="folder_name" required>
            <button type="submit">Add Folder</button>
        </form>
        <form action="/add_feed" method="post">
            <label for="feed_url">RSS Feed URL:</label>
            <input type="text" id="feed_url" name="feed_url" required>
            <button type="submit">Add Feed</button>
        </form>
        <h2>Folders</h2>
        <ul>
            {% for folder in folders %}
            <li>
                <div class="content">
                    <a href="{{ url_for('view_folder', folder_name=folder.name) }}">{{ folder.name }}</a>
                </div>
                <div class="actions">
                    <form action="/delete_folder/{{ folder.id }}" method="post" style="display:inline;">
                        <button type="submit">Delete</button>
                    </form>
                </div>
            </li>
            {% endfor %}
        </ul>
        <h2>Feeds</h2>
        <ul>
            {% for feed in feeds %}
            <li>
                <div class="content">
                    <a href="{{ url_for('fetch_feed', feed_id=feed.id) }}">{{ feed.name }}</a>
                </div>
                <div class="actions">
                    <form action="/move_feed" method="post" class="move-form">
                        <input type="hidden" name="feed_url" value="{{ feed.url }}">
                        <select name="folder_name" required>
                            <option value="" disabled selected>Move to folder</option>
                            {% for folder in folders %}
                            <option value="{{ folder.name }}">{{ folder.name }}</option>
                            {% endfor %}
                        </select>
                        <button type="submit">Move</button>
                    </form>
                    <form action="/delete_feed/{{ feed.id }}" method="post" class="delete-form">
                        <button type="submit" class="delete-button">Delete</button>
                    </form>
                </div>
            </li>
            {% endfor %}
        </ul>
        <h2>Feed Summaries</h2>
        <div>
            {% for summary in feed_summaries %}
            <div class="feed-summary">
                <h3><a href="{{ summary.link }}">{{ summary.title }}</a></h3>
                <p>{{ summary.summary | safe }}</p>
            </div>
            {% endfor %}
        </div>
        <div class="about-button-container">
            <a href="{{ url_for('open_about') }}" class="about-button">About</a>
        </div>
    </div>
</body>
</html>
